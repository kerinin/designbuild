-content_for :head do
  =javascript_tag render :partial => 'radio_button.js'
  
= form_for [@project, @deadline] do |f|
  -if @deadline.errors.any?
    #error_explanation
      %h2= "#{pluralize(@deadline.errors.count, "error")} prohibited this deadline from being saved:"
      %ul
        - @deadline.errors.full_messages.each do |msg|
          %li= msg
          
  .field
    = f.label :name
    = f.text_field :name

  %p
    .field
      = radio_button_tag :deadline_type, :absolute, true
      %strong= label_tag :deadline_type_absolute, "Absolute Deadline"
      
    .field.absolute_deadline_input
      = f.label :date
      = f.date_select :date
    
  %p
    .field
      = radio_button_tag :deadline_type, :relative, false
      %strong= label_tag :deadline_type_relative, "Relative Deadline"
      
    .field.relative_deadline_input
      = f.label :parent_deadline, {:disabled => true}
      = f.collection_select :parent_deadline_id, @project.deadlines, :id, :select_label, {:include_blank => '-- Select Existing Deadline --'}, {:disabled => true}

      = f.label :interval, {:disabled => true}
      = f.text_field :interval, {:disabled => true}
    
  .actions
    -unless @task.nil?
      =hidden_field_tag :task_id, @task.id
    = f.submit 'Save'
